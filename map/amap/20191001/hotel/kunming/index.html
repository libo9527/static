<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>昆明酒店分布</title>
    <script type="text/javascript" src='//webapi.amap.com/maps?v=1.4.15&key=3a710b3a39b36028af42c954d0786d61'></script>
    <!-- UI组件库 1.0 -->
    <script src="//webapi.amap.com/ui/1.0/main.js?v=1.0.11"></script>
    <link rel="stylesheet" type="text/css" href="./index.css">
</head>
<body>
<div id="new-tab">
    <a target="_blank" href="#"><i class="fa fa-window-restore"></i></a>
</div>
<div id="container"></div>
<script type="text/javascript">
    //创建地图
    var map = new AMap.Map('container', {
        zoom: 11,
        center: [102.833722, 24.881539] // 云南昆明
    });

    AMapUI.loadUI(['misc/MarkerList', 'overlay/AwesomeMarker', 'overlay/SimpleInfoWindow'],
        function (MarkerList, AwesomeMarker, SimpleInfoWindow) {

            var data = [{
                id: 1,
                title: "昆明长水国际机场",
                position: [102.929902, 25.09817],
                awesomeIcon: "plane",
                iconLabel: {
                    style: {
                        color: "#333",
                        fontSize: "14px"
                    }
                },
                iconStyle: "orange",
                label: {
                    content: "<div class='label-content-text'>昆明长水国际机场</div>",
                    direction: "top"
                }
            }, {
                id: 2,
                title: "昆明南站",
                position: [102.860928, 24.870102],
                awesomeIcon: "train",
                iconLabel: {
                    style: {
                        color: "#333",
                        fontSize: "14px"
                    }
                },
                iconStyle: "orange",
                label: {
                    content: "<div class='label-content-text'>昆明南站</div>",
                    direction: "top"
                }
            }, {
                id: 3,
                title: "昆明站",
                position: [102.7226614952, 25.0155009785],
                awesomeIcon: "train",
                iconLabel: {
                    style: {
                        color: "#333",
                        fontSize: "14px"
                    }
                },
                iconStyle: "orange",
                label: {
                    content: "<div class='label-content-text'>昆明站</div>",
                    direction: "top"
                }
            }, {
                id: 4,
                title: "民族村",
                position: [102.661308, 24.965712],
                awesomeIcon: "photo",
                iconLabel: {
                    style: {
                        color: "#333",
                        fontSize: "14px"
                    }
                },
                iconStyle: "green",
                label: {
                    content: "<div class='label-content-text'>民族村</div>",
                    direction: "top"
                }
            }, {
                id: 5,
                title: "滇池",
                position: [102.665486, 24.95972],
                awesomeIcon: "photo",
                iconLabel: {
                    style: {
                        color: "#333",
                        fontSize: "14px"
                    }
                },
                iconStyle: "green",
                label: {
                    content: "<div class='label-content-text'>滇池</div>",
                    direction: "top"
                }
            }, {
                id: 6,
                title: "海埂大坝",
                position: [102.650825, 24.973159],
                awesomeIcon: "photo",
                iconLabel: {
                    style: {
                        color: "#333",
                        fontSize: "14px"
                    }
                },
                iconStyle: "green",
                label: {
                    content: "<div class='label-content-text'>海埂大坝</div>",
                    direction: "top"
                }
            }, {
                id: 7,
                title: "西山",
                position: [102.634277, 24.95229],
                awesomeIcon: "photo",
                iconLabel: {
                    style: {
                        color: "#333",
                        fontSize: "14px"
                    }
                },
                iconStyle: "green",
                label: {
                    content: "<div class='label-content-text'>西山</div>",
                    direction: "top"
                }
            }, {
                id: 8,
                title: "大观公园",
                position: [102.672686, 25.023128],
                awesomeIcon: "photo",
                iconLabel: {
                    style: {
                        color: "#333",
                        fontSize: "14px"
                    }
                },
                iconStyle: "green",
                label: {
                    content: "<div class='label-content-text'>大观公园</div>",
                    direction: "top"
                }
            }, {
                id: 9,
                title: "云南陆军讲武堂旧址",
                position: [102.70088, 25.04784],
                awesomeIcon: "photo",
                iconLabel: {
                    style: {
                        color: "#333",
                        fontSize: "14px"
                    }
                },
                iconStyle: "green",
                label: {
                    content: "<div class='label-content-text'>云南陆军讲武堂旧址</div>",
                    direction: "top"
                }
            }, {
                id: 10,
                title: "翠湖公园",
                position: [102.703989, 25.048538],
                awesomeIcon: "photo",
                iconLabel: {
                    style: {
                        color: "#333",
                        fontSize: "14px"
                    }
                },
                iconStyle: "green",
                label: {
                    content: "<div class='label-content-text'>翠湖公园</div>",
                    direction: "top"
                }
            }, {
                id: 11,
                title: "云南大学",
                position: [102.70281, 25.05442],
                awesomeIcon: "photo",
                iconLabel: {
                    style: {
                        color: "#333",
                        fontSize: "14px"
                    }
                },
                iconStyle: "green",
                label: {
                    content: "<div class='label-content-text'>云南大学</div>",
                    direction: "top"
                }
            }, {
                id: 12,
                title: '汉庭昆明呈贡酒店',
                position: [102.799688, 24.889094],
                awesomeIcon: 'hotel',
                iconLabel: {
                    style: {
                        color: '#666',
                        fontSize: '14px'
                    }
                },
                iconStyle: 'lightblue',
                label: {
                    content: "<div class='label-content-text'>汉庭昆明呈贡酒店</div>",
                    direction: 'top'
                },
                type: 'hotel',
                detailUrl: 'http://hotels.huazhu.com/hotel/detail/6505011',
                imgUrl: '../../images/kunminghotel03.png',
                address: '昆明市呈贡区兴呈路4577号(龙城购物中心)',
                phone: '0871-68876366',
                price: '大床房(2间) ¥126/间',
                from: '2019-10-06',
                to: '2019-10-07'
            }, {
                id: 13,
                title: '汉庭昆明北京路酒店',
                position: [102.720527, 25.029582],
                awesomeIcon: 'hotel',
                iconLabel: {
                    style: {
                        color: '#666',
                        fontSize: '14px'
                    }
                },
                iconStyle: 'lightblue',
                label: {
                    content: "<div class='label-content-text'>汉庭昆明北京路酒店</div>",
                    direction: 'top'
                },
                type: 'hotel',
                detailUrl: 'http://hotels.huazhu.com/hotel/detail/6500111',
                imgUrl: '../../images/kunminghotel02.png',
                address: '昆明市官渡区北京路277号(云南省第三人民医院对面)',
                phone: '0871-68020788',
                price: '高级大床房(2间) ¥175/间',
                from: '2019-10-05',
                to: '2019-10-06'
            }, {
                id: 14,
                title: '汉庭优佳昆明东华酒店',
                position: [102.732756, 25.044635],
                awesomeIcon: 'hotel',
                iconLabel: {
                    style: {
                        color: '#666',
                        fontSize: '14px'
                    }
                },
                iconStyle: 'lightblue',
                label: {
                    content: "<div class='label-content-text'>汉庭优佳昆明东华酒店</div>",
                    direction: 'top'
                },
                type: 'hotel',
                detailUrl: 'http://hotels.huazhu.com/hotel/detail/6500312',
                imgUrl: '../../images/kunminghotel01.png',
                address: '昆明市盘龙区环城东路176号(环城东路与人民东路交叉路口，近延安医院)',
                phone: '0871-63533777',
                price: '大床房(2间) ¥205/间',
                from: '2019-10-02',
                to: '2019-10-03'
            }];

            var infoWindow = new SimpleInfoWindow({
                offset: new AMap.Pixel(0, -31)
            });
            for (let item of data) {
                var marker = new AwesomeMarker({
                    awesomeIcon: item.awesomeIcon,
                    iconLabel: item.iconLabel,
                    iconStyle: item.iconStyle,
                    map: map,
                    position: item.position,
                    title: item.title
                });
                marker.on('mouseover', function () {
                    this.setTop(true);
                    this.setLabel({
                        content: "<div class='label-content-text'>" + this.getTitle() + "</div>",
                        offset: new AMap.Pixel(0, -31)
                    });
                });
                marker.on('mouseout', function () {
                    this.setLabel();
                });
                if (item.type && item.type === 'hotel') {
                    marker.infoTitle = item.title;
                    marker.infoBody = "<div style='display: flex;'>\n" +
                        "    <div><a href='" + item.detailUrl + "' target='_blank'><img alt='Pic' height='110' src='" + item.imgUrl + "'></a></div>\n" +
                        "    <div>\n" +
                        "        <div style='min-width:230px;'>详细地址：" + item.address + "</div>\n" +
                        "        <div>联系电话：" + item.phone + "</div>\n" +
                        "        <div>房型价格：" + item.price + "</div>\n" +
                        "        <div>入住日期：" + item.from + " ~ " + item.to + "</div>\n" +
                        "        <div><a href='" + item.detailUrl + "' target=\"_blank\">详细信息</a></div>\n" +
                        "    </div>\n" +
                        "</div>";
                    marker.on('click', markerClick);
                    marker.emit('click', {target: marker});
                }
            }

            function markerClick(e) {
                infoWindow.setInfoTitle(e.target.infoTitle);
                infoWindow.setInfoBody(e.target.infoBody);
                infoWindow.open(map, e.target.getPosition());
            }
        });

    // 地图加载完成
    map.on("complete", function () {
        // 无参数时，自动自适应所有覆盖物
        map.setFitView();
    });
</script>
</body>
</html>
